<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="white">
  <link rel="manifest" href="/manifest.json">

  <title>{% if page.title %}{{ page.title | escape }}{% else %}{{ site.title | escape }}{% endif %}</title>
  <meta name="description" content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">

  {% if page.url == '/' %}
  <link rel="stylesheet" media="all" href="{{ "/css/index.css" | relative_url }}">
  {% else %}
  <link rel="stylesheet" media="all" href="{{ "/css/main.css" | relative_url }}">
  {% endif %}

  <link rel="canonical"
        href="{{ page.url | replace:'index.html','' | absolute_url }}">

  <script>
  // from https://developers.google.com/web/fundamentals/getting-started/primers/service-workers
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
      navigator.serviceWorker.register('/sw.js').then(function(registration) {
        // Registration was successful
        console.log('ServiceWorker registration successful with scope: ', registration.scope);
      }).catch(function(err) {
        // registration failed :(
        console.log('ServiceWorker registration failed: ', err);
      });
    });
  }
  </script>

  {% if jekyll.environment == 'production' and site.google_analytics %}
    {% include google-analytics.html %}
  {% endif %}
</head>
